<script type="module">
  import { runCommand } from '../js/cmd.js';

  const input = document.getElementById('terminal-input');
  const output = document.getElementById('terminal-output');

  function print(text) {
    const div = document.createElement('div');
    div.textContent = text;
    output.appendChild(div);
    output.scrollTop = output.scrollHeight;
  }

  input.addEventListener('keydown', async (e) => {
    if (e.key === 'Enter') {
      const command = input.value.trim();
      input.value = '';
      print(`$ ${command}`);
      try {
        const result = await runCommand(command);
        if (result) print(result);
      } catch (err) {
        print(`Error: ${err.message}`);
      }
    }
  });
</script>

