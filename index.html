<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html lang="en">
    <!--FeedEk used for RSS Reader-->
    <head>
        <meta charset="utf-8"
              name="viewport"
              content="width=device-width"/>
        <title>
            Frank R Castillo
        </title>
        <style>
            html { -khtml-user-select: none; -o-user-select: none; -moz-user-select: none;
                   -webkit-user-select: none; user-select: none; } 
            body { margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;
                   font-family: "Lucida Console", Monaco, monospace; font-size: 11px;
                   text-align: left; color: #eeeeee; background-color: #000000 }
            table { border-spacing: 0px; }
            a { color: #fefefe; text-decoration: none; }
            p { font-weight: normal; list-style: none outside none; padding: 5px 5px; }
            ul { margin-top: 0; margin-bottom: 0; }
            #profile { height: 100%; width: 100%; }
            .fTle a { color: #fefefe !important; word-wrap: break-word; }
            .fLst { list-style: none outside none; border: 0px; padding: 5px 5px; text-align: left; }
            .wdiv { position: absolute; z-index: 9; background-color: #202020;
                    border: 2px solid #fefefe; resize: both; overflow: auto;} 
            .wdivheader { cursor: move; z-index: 10; background-color: #fefefe; color: #111111; }
            .closeBtn { float: right; color: #111111; z-index: 11; }
            .mainCell { width: 100%; vertical-align: top; }
            #resizeBtn { text-align: right; vertical-align: bottom; }
            #winTable { height: 100%; vertical-align: top; }
            @media only screen and (max-width: 480px) and (max-device-width: 480px)and (orientation: portrait) {
                table { border-spacing: 0px; height: 100%; }
                .fLst { width: 420px; }
                .fTle a { width: 420px; }
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
        <script>
           /*
            * FeedEk jQuery RSS/ATOM Feed Plugin v3.0 with YQL API
            * http://jquery-plugins.net/FeedEk/FeedEk.html  https://github.com/enginkizil/FeedEk
            * Author : Engin KIZIL http://www.enginkizil.com 
            * Forked to support YouTube RSS feeds
            */

            (function ($) {
                $.fn.FeedEk = function (opt) {
                    var def = $.extend({
                        CharLimit: 0,
                        TitleLinkTarget: "_blank",
                        DateFormat: "",
                        DateFormatLang:"en",
                        Sort: false
                    }, opt);
                    
                    var id = $(this).attr("id"), i, s = "", dt, dateVal;
                    $("#" + id).empty();
                    if (def.FeedUrl == undefined) return;
                    $("#" + id).append('Loading...');
                    
                    var isYouTube = urlDomain(def.FeedUrl).includes('youtube.com');
                    
                    if (isYouTube){
                        var YTLSearch = '*';
                    } else {
                        var YTLSearch = 'channel.item';
                    };
                    
                    var YQLstr = 'SELECT ' + YTLSearch + ' FROM feednormalizer WHERE url ="' + def.FeedUrl + '" LIMIT ' + def.MaxCount;
                    
                    $.ajax({
                        url: "https://query.yahooapis.com/v1/public/yql?q=" + encodeURIComponent(YQLstr) + "&format=json&diagnostics=false&callback=?",
                        dataType: "json",
                        success: function (data) {
                            $("#" + id).empty();
                            
                            if (isYouTube){
                                var rssResults = data.query.results.feed.entry;
                            } else {
                                var rssResults = data.query.results.rss;
                                if (!(rssResults instanceof Array)) {
                                    var rssResults = [rssResults];
                                };
                            };
                            
                            $.each(rssResults, function (e, itm) {
                                if (isYouTube){
                                    var rssDate = itm.published;
                                    var rssLink = 'https://www.youtube.com/watch?v=' + itm.videoId;
                                    var rssTitle = itm.title;
                                } else {
                                    var rssDate = itm.channel.item.pubDate;
                                    var rssLink = itm.channel.item.link;
                                    var rssTitle = itm.channel.item.title;
                                };
                                dt = new Date(rssDate);

                                s += '<li><div class="fTle">' +
                                '<a href="' + rssLink + '" target="' + def.TitleLinkTarget + '" >' +
                                    dt.toLocaleDateString(def.DateFormatLang, def.DateFormat) + ': ' +
                                    truncString(rssTitle, def.CharLimit) +
                                '</a></div></li>';
                            });
                            var sc = '<ul class="fLst">' + s + '<a href="' + def.PageUrl + '" target="_blank">More...</a></ul>';
                            //var scSorted = sortList(def.Sort, $('ul')[0]);
                            $("#" + id).append(sc);
                        }
                    });
                };
            })(jQuery);

            function urlDomain (url) {
                if (url.includes('://')) {
                    var retUrl = url.split('/')[2];
                } else {
                    var retUrl = url.split('/')[0];
                };
                return retUrl;
            };

            function truncString (text, length) {
                if (length> 0 && text.length > length) {
                    var newText = text.substring(0, length) + '...';
                } else {
                    var newText = text;
                }
                return newText;
            };
        </script>
        <script>
            $(document).ready(function () {
                var dteOpt = { year: '2-digit', month: '2-digit', day: '2-digit'};
                $('#MediumRss').FeedEk({
                    FeedName: 'Medium',
                    FeedUrl: 'https://medium.com/feed/frank-r-castillo',
                    PageUrl: 'https://medium.com/frank-r-castillo',
                    MaxCount: 10, 
                    DateFormat: dteOpt,
                    Sort: true                    
                });
                $('#TwitterRss').FeedEk({
                    FeedName: 'Twitter',
                    FeedUrl: 'https://twitrss.me/twitter_user_to_rss/?user=frankrcastillo',
                    PageUrl: 'https://twitter.com/frankrcastillo',
                    MaxCount: 10,
                    CharLimit: 100,
                    DateFormat: dteOpt
                });
                $('#YouTubeRss').FeedEk({
                    FeedName: 'YouTube',
                    FeedUrl: 'https://www.youtube.com/feeds/videos.xml?channel_id=UC2h-iPOAKbCe1eo8aA-Zf4g',
                    PageUrl: 'https://www.youtube.com/channel/UC2h-iPOAKbCe1eo8aA-Zf4g?view_as=subscriber',
                    MaxCount: 10,
                    DateFormat: dteOpt
                });
            });
        </script>
    </head>
    <body>
        <script>

            mainbody = "I am masters student of economics at the University of South Florida. When time allows, I write about politics, economics, international relations, and technology. Professionally, I’ve had the opportunity to Anti-Money Laundering (AML), financial compliance, and information technology. These experiences have inspired my current academic interests, and I hope to someday bring together economics, mathematics, and big data to develop systems and methods that help mitigate financial crime risk. In 2013, I received an Honorable Discharge from the United States Marine Corps after nine years of service. Follow me on social media: <a href='https://medium.com/frank-r-castillo' target='_blank'>Medium</a>, <a href='https://twitter.com/FrankRCastillo' target='_blank'>Twitter</a>, <a href='https://www.youtube.com/channel/UC2h-iPOAKbCe1eo8aA-Zf4g' target='_blank'>YouTube</a>, <a href='https://github.com/FrankRCastillo' target='_blank'>GitHub</a>, <a href='https://www.linkedin.com/in/franklinrcastillo/' target='_blank'>LinkedIn</a>"

            sysmesgbody = "<p id='systempanel'>Under Construction</p>"
            twitterbody = "<div id='TwitterRss'></div>";
            mediumbody  = "<div id='MediumRss'></div>";
            youtubebody = "<div id='YouTubeRss'></div>";
            picturebody = "<img id='profile' src='picture.jpeg'>";
                       //element id  , element title      , elem body  , top                  , left   , width  , height , resizeable?
            windowCreate("systemmesg", "System Message"   , sysmesgbody, "10px"               , "15px" , "760px", ""     , false );
            windowCreate("mainwindow", "Frank R. Castillo", mainbody   , "55px"               , "139px", "651px", "117px", false );
            windowCreate("picturewin", "Picture"          , picturebody, "55px"               , "30px" , "101px", ""     , true  );
            windowCreate("twitterwin", "Twitter"          , twitterbody, hgtElem("mainwindow"), "30px" , "760px", "170px", false );
            windowCreate("mediumwin" , "Medium"           , mediumbody , hgtElem("twitterwin"), "30px" , "760px", "170px", false );
            windowCreate("youtubewin", "YouTube"          , youtubebody, hgtElem("mediumwin") , "30px" , "760px", ""     , false );
            

            function windowCreate(divName, windowTitle, windowBody, top, left, width, height, resizeable) {
                template  = "<div id='" + divName + "' class='wdiv' onmousedown='frontElement(\"" + divName + "\")'>\n";
                template += "<div id='" + divName + "header' class='wdivheader'>\n";
                template += "<b>" + windowTitle;
                template += "<b class='closeBtn' onclick='closeWindow(\"" + divName + "\")'>⛝</b></b>\n";
                template += "</div>\n";
                template += windowBody;
                template += "</div>";

                blankPage = window.self.document;
                blankPage.open();
                blankPage.write(template);
                blankPage.close();

                divElem = document.getElementById(divName);
                divElem.style.top = top;
                divElem.style.left = left;
                if (width !== "") { divElem.style.width = width; }
                if (height !== "") { divElem.style.height = height; }

                if (resizeable === true) {
                    divElem.style.resize = "none";
                    divElem.style.overflow = "visible"
                }

                /*
                 * Floating window code forked from https://www.w3schools.com/howto/howto_js_draggable.asp
                 */

                dragElement(divElem);

                function dragElement(elmnt) {
                    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
                    if (document.getElementById(elmnt.id + "header")) {
                        // if present, the header is where you move the DIV from:
                        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
                    } else {
                        // otherwise, move the DIV from anywhere inside the DIV:
                        elmnt.onmousedown = dragMouseDown;
                    }

                    function dragMouseDown(e) {
                        e = e || window.event;
                        // get the mouse cursor position at startup:
                        pos3 = e.clientX;
                        pos4 = e.clientY;
                        document.onmouseup = closeElement;
                        // call a function whenever the cursor moves:
                        document.onmousemove = elementDrag;
                    }

                    function elementDrag(e) {
                        e = e || window.event;

                        // calculate the new cursor position:
                        pos1 = pos3 - e.clientX;
                        pos2 = pos4 - e.clientY;
                        pos3 = e.clientX;
                        pos4 = e.clientY;
                        // set the element's new position:
                        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
                        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
                    }
                }
                
                function closeElement() {
                    // stop moving when mouse button is released
                    document.onmouseup = null;
                    document.onmousemove = null;
                }

                // fork ends here
            }

            function closeWindow(divName) {
                document.getElementById(divName).style.visibility = 'hidden';
            }

            var zIndex = 100;
            function frontElement(divName) {
                document.getElementById(divName).style.zIndex = ++zIndex;
            }

            function hgtElem(divName) {
                elmnt = document.getElementById(divName);
                elmntHgt = (elmnt.offsetTop + elmnt.offsetHeight + 4) + "px";
                return elmntHgt;
            }

        </script>
    </body>
</html>
